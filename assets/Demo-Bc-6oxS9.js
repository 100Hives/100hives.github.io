import{j as e}from"./motion-5BbOgTDD.js";import{r as s}from"./router-BrD-eQGy.js";import{f as t,B as a,c as n,C as i,a as l,e as r,b as c}from"./index-g5ryZ5_5.js";import{a2 as o,al as d,am as m,a3 as h,a8 as x,an as g,D as u,ao as j,a as f,H as N,_ as p,ap as v,aq as b,ar as w,s as y,as as S,A as k,Z as R,at as C}from"./icons-CYwe_Jbb.js";import"./vendor-Bf-MSPTJ.js";function P({status:s,signalQuality:a=0,batteryLevel:n=0,dataQuality:i="no-signal",className:l}){const r=()=>{switch(s){case"connected":return"text-green-500";case"connecting":return"text-yellow-500";case"disconnected":return"text-red-500";default:return"text-gray-500"}},c=()=>{switch(i){case"excellent":return"text-green-500";case"good":return"text-blue-500";case"poor":return"text-yellow-500";case"no-signal":return"text-red-500";default:return"text-gray-500"}},u=()=>n>50?"text-green-500":n>20?"text-yellow-500":"text-red-500";return e.jsxs("div",{className:t("flex items-center gap-2 text-sm",l),children:[e.jsxs("div",{className:"flex items-center gap-1",children:["connected"===s?e.jsx(o,{className:t("w-4 h-4",r())}):"connecting"===s?e.jsx(o,{className:t("w-4 h-4 animate-pulse",r())}):e.jsx(d,{className:t("w-4 h-4",r())}),e.jsx("span",{className:r(),children:"connecting"===s?"Connecting...":s})]}),"connected"===s&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(m,{className:t("w-4 h-4",c())}),e.jsxs("span",{className:c(),children:[a,"%"]})]}),"connected"===s&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(h,{className:t("w-4 h-4",u())}),e.jsxs("span",{className:u(),children:[n,"%"]})]}),"connected"===s&&e.jsxs("div",{className:"flex items-center gap-1",children:["excellent"===i||"good"===i?e.jsx(x,{className:t("w-4 h-4",c())}):e.jsx(g,{className:t("w-4 h-4",c())}),e.jsx("span",{className:c(),children:i})]})]})}function M({isRecording:n=!1,onStartRecording:i,onStopRecording:l,onPauseRecording:r,onDownload:c,onShare:o,onSettings:d,currentBPM:m,recordingDuration:h="00:00",className:x}){const[g,y]=s.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:t("fixed bottom-4 left-4 right-4 z-50 md:hidden",x),children:[g&&e.jsx("div",{className:"mb-2 bg-background/95 backdrop-blur-sm border rounded-2xl p-3 shadow-lg",children:e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs(a,{variant:"outline",size:"sm",onClick:c,className:"flex flex-col gap-1 h-16",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Export"})]}),e.jsxs(a,{variant:"outline",size:"sm",onClick:o,className:"flex flex-col gap-1 h-16",children:[e.jsx(j,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Share"})]}),e.jsxs(a,{variant:"outline",size:"sm",onClick:d,className:"flex flex-col gap-1 h-16",children:[e.jsx(f,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Settings"})]})]})}),e.jsx("div",{className:"bg-background/95 backdrop-blur-sm border rounded-2xl p-3 shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[m&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(N,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-sm font-medium",children:m}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"BPM"})]}),n&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-medium",children:h})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[n?e.jsxs(e.Fragment,{children:[e.jsx(a,{variant:"outline",size:"sm",onClick:r,children:e.jsx(v,{className:"w-4 h-4"})}),e.jsx(a,{variant:"outline",size:"sm",onClick:l,className:"border-red-500 text-red-500 hover:bg-red-50",children:e.jsx(b,{className:"w-4 h-4"})})]}):e.jsxs(a,{onClick:i,className:"bg-gradient-to-r from-cyan-500 to-emerald-500 hover:from-cyan-600 hover:to-emerald-600",children:[e.jsx(p,{className:"w-4 h-4 mr-2"}),"Start"]}),e.jsx(a,{variant:"ghost",size:"sm",onClick:()=>y(!g),className:"ml-2",children:e.jsx(w,{className:t("w-4 h-4 transition-transform",g?"rotate-180":"")})})]})]})})]}),e.jsx("div",{className:"h-20 md:hidden"})]})}function z({data:a,maxPoints:n=100,height:i=200,color:l="#06b6d4",backgroundColor:r="transparent",showGrid:c=!0,className:o,title:d}){const m=s.useRef(null),[h,x]=s.useState({width:0,height:i});return s.useEffect((()=>{const e=()=>{if(m.current?.parentElement){const e=m.current.parentElement.clientWidth;x({width:e,height:i})}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[i]),s.useEffect((()=>{const e=m.current;if(!e)return;const s=e.getContext("2d");if(!s)return;const t=window.devicePixelRatio||1;if(e.width=h.width*t,e.height=h.height*t,s.scale(t,t),s.clearRect(0,0,h.width,h.height),s.fillStyle=r,s.fillRect(0,0,h.width,h.height),c){s.strokeStyle="#374151",s.lineWidth=.5,s.globalAlpha=.3;for(let t=0;t<=4;t++){const e=h.height/4*t;s.beginPath(),s.moveTo(0,e),s.lineTo(h.width,e),s.stroke()}const e=h.width/10;for(let t=0;t<=10;t++){const a=e*t;s.beginPath(),s.moveTo(a,0),s.lineTo(a,h.height),s.stroke()}s.globalAlpha=1}const i=a.slice(-n);if(i.length<2)return;const o=Math.min(...i),d=Math.max(...i)-o||1;s.strokeStyle=l,s.lineWidth=2,s.lineCap="round",s.lineJoin="round",s.beginPath(),i.forEach(((e,t)=>{const a=t/(i.length-1)*h.width,n=h.height-(e-o)/d*h.height;0===t?s.moveTo(a,n):s.lineTo(a,n)})),s.stroke(),h.width<768&&(s.fillStyle=l,i.forEach(((e,t)=>{if(t%5==0){const a=t/(i.length-1)*h.width,n=h.height-(e-o)/d*h.height;s.beginPath(),s.arc(a,n,2,0,2*Math.PI),s.fill()}})))}),[a,h,n,l,r,c]),e.jsxs("div",{className:t("w-full",o),children:[d&&e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-sm font-medium",children:d}),e.jsx("div",{className:"text-xs text-muted-foreground",children:a.length>0?`${a[a.length-1]?.toFixed(1)}`:"--"})]}),e.jsxs("div",{className:"relative border rounded-lg overflow-hidden bg-background/50",children:[e.jsx("canvas",{ref:m,width:h.width,height:h.height,className:"w-full h-auto",style:{height:`${i}px`}}),e.jsx("div",{className:"absolute top-2 right-2 md:hidden",children:e.jsx("div",{className:"bg-background/80 backdrop-blur-sm rounded px-2 py-1 text-xs",children:a.length>0?`${a[a.length-1]?.toFixed(1)}`:"--"})}),e.jsx("div",{className:"absolute bottom-2 left-2",children:e.jsx("div",{className:"text-xs font-medium text-green-500",children:"LIVE"})})]})]})}function D(){const[t,o]=s.useState(!1),[d,m]=s.useState("00:00"),[h,x]=s.useState(72),[g,u]=s.useState([]),[j,f]=s.useState([]),[p,v]=s.useState("connected");s.useEffect((()=>{const e=setInterval((()=>{if("connected"===p){const e=72+10*Math.sin(Date.now()/1e4)+8*Math.random()-4;x(Math.round(e)),u((s=>[...s.slice(-99),e]));const s=50*Math.sin(Date.now()/1e3)+20*Math.random()-10;f((e=>[...e.slice(-199),s]))}}),100);return()=>clearInterval(e)}),[p]),s.useEffect((()=>{let e;if(t){let s=0;e=setInterval((()=>{s++;const e=Math.floor(s/60),t=s%60;m(`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`)}),1e3)}return()=>clearInterval(e)}),[t]);const b=[{title:"Heart Rate",value:h,unit:"BPM",icon:N,color:"text-red-500",trend:"+2.3%"},{title:"HRV",value:45,unit:"ms",icon:k,color:"text-blue-500",trend:"+5.1%"},{title:"Stress Level",value:23,unit:"%",icon:R,color:"text-yellow-500",trend:"-1.2%"},{title:"Temperature",value:36.8,unit:"°C",icon:C,color:"text-green-500",trend:"+0.1%"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-cyan-50/30 to-emerald-50/30 dark:from-gray-950 dark:via-cyan-950/30 dark:to-emerald-950/30 pt-24 pb-20",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-4",children:e.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-cyan-600 to-emerald-600 bg-clip-text text-transparent",children:"Live Demo Dashboard"})}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"Real-time biosensing data visualization and mobile-optimized controls"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-6",children:[e.jsx(P,{status:p,signalQuality:87,batteryLevel:78,dataQuality:"excellent"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{variant:"outline",className:"gap-1",children:[e.jsx(y,{className:"w-3 h-3"}),"Mobile Optimized"]}),e.jsxs(n,{variant:"outline",className:"gap-1",children:[e.jsx(S,{className:"w-3 h-3"}),"Real-time"]})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:b.map(((s,t)=>e.jsxs(i,{className:"hover:scale-[1.02] transition-all duration-300",children:[e.jsx(l,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(s.icon,{className:`w-5 h-5 ${s.color}`}),e.jsx("span",{className:"text-xs text-green-600 font-medium",children:s.trend})]})}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[s.value,e.jsx("span",{className:"text-sm text-muted-foreground ml-1",children:s.unit})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.title})]})})]},t)))}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5 text-red-500"}),"Heart Rate Trend"]})}),e.jsx(r,{children:e.jsx(z,{data:g,title:"Heart Rate (BPM)",color:"#ef4444",height:200,maxPoints:50})})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5 text-blue-500"}),"PPG Signal"]})}),e.jsx(r,{children:e.jsx(z,{data:j,title:"Photoplethysmography",color:"#3b82f6",height:200,maxPoints:100})})]})]}),e.jsxs(i,{className:"mb-8",children:[e.jsxs(l,{children:[e.jsx(c,{children:"Mobile Features Demo"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Try these features on mobile for the best experience"})]}),e.jsx(r,{className:"space-y-4",children:e.jsxs("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx(a,{variant:"outline",onClick:()=>v("connected"===p?"disconnected":"connected"),children:"Toggle Connection"}),e.jsx(a,{variant:"outline",onClick:()=>window.navigator.vibrate?.(200),children:"Test Haptic Feedback"}),e.jsx(a,{variant:"outline",onClick:()=>{"share"in navigator&&navigator.share({title:"Kasuku Demo",text:"Check out this biosensing demo!",url:window.location.href}).catch((()=>{}))},children:"Native Share"})]})})]}),e.jsxs(i,{children:[e.jsx(l,{children:e.jsx(c,{children:"Quick Wins Implemented"})}),e.jsx(r,{children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"✅ Mobile Action Bar"}),e.jsx("p",{className:"text-muted-foreground",children:"Floating controls at the bottom (mobile only) with recording, export, and settings"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"✅ Status Indicators"}),e.jsx("p",{className:"text-muted-foreground",children:"Real-time connection, battery, and signal quality indicators"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"✅ Live Data Charts"}),e.jsx("p",{className:"text-muted-foreground",children:"Responsive canvas-based charts optimized for mobile viewing"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"✅ Touch-Friendly UI"}),e.jsx("p",{className:"text-muted-foreground",children:"Larger touch targets, mobile-optimized spacing and interactions"})]})]})})]})]}),e.jsx(M,{isRecording:t,currentBPM:h,recordingDuration:d,onStartRecording:()=>{o(!0),m("00:00")},onStopRecording:()=>{o(!1),m("00:00")},onPauseRecording:()=>{o(!1)},onDownload:()=>{},onShare:()=>{},onSettings:()=>{}})]})}export{D as Demo};
