import{j as e}from"./motion-5BbOgTDD.js";import{r as s,L as a,b as r}from"./router-BrD-eQGy.js";import{u as t,C as n,a as o,b as l,d as i,e as d,B as c}from"./index-g5ryZ5_5.js";import{d as m,a1 as u,a4 as p,U as x,a7 as h,av as b,x as f,au as g,E as N,an as j,e as v}from"./icons-CYwe_Jbb.js";import"./vendor-Bf-MSPTJ.js";const y=[{value:"researcher",label:"Researcher",icon:u,description:"Academic research and publications"},{value:"healthcare",label:"Healthcare Professional",icon:p,description:"Clinical applications and patient care"},{value:"student",label:"Student",icon:x,description:"Learning and educational projects"},{value:"enterprise",label:"Enterprise",icon:h,description:"Commercial and business applications"}];function w({onSuccess:r}){const{register:u,isLoading:p}=t(),[x,h]=s.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",role:"researcher",institution:""}),[w,C]=s.useState(!1),[k,P]=s.useState(!1),[S,A]=s.useState(""),F=e=>{const{name:s,value:a}=e.target;h((e=>({...e,[s]:a}))),S&&A("")};return e.jsxs(n,{className:"w-full max-w-md mx-auto",children:[e.jsxs(o,{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-emerald-600 rounded-xl mx-auto mb-4 flex items-center justify-center",children:e.jsx("div",{className:"w-6 h-6 bg-white rounded-sm"})}),e.jsx(l,{className:"text-2xl",children:"Create Account"}),e.jsx(i,{children:"Join the Kasuku.ai community and start your biosensing journey"})]}),e.jsxs(d,{children:[e.jsxs("form",{onSubmit:e=>{e.preventDefault(),A(""),x.email&&x.password&&x.firstName&&x.lastName?x.password===x.confirmPassword?x.password.length<6?A("Password must be at least 6 characters long"):(async()=>{const e=await u({email:x.email,password:x.password,firstName:x.firstName,lastName:x.lastName,role:x.role,institution:x.institution||void 0});e.success?r?.():A(e.error??"Registration failed")})():A("Passwords do not match"):A("Please fill in all required fields")},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"firstName",className:"text-sm font-medium",children:"First Name *"}),e.jsx("input",{id:"firstName",name:"firstName",type:"text",value:x.firstName,onChange:F,placeholder:"John",className:"w-full px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",disabled:p})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"lastName",className:"text-sm font-medium",children:"Last Name *"}),e.jsx("input",{id:"lastName",name:"lastName",type:"text",value:x.lastName,onChange:F,placeholder:"Doe",className:"w-full px-3 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",disabled:p})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),e.jsx("input",{id:"email",name:"email",type:"email",value:x.email,onChange:F,placeholder:"john@example.com",className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",disabled:p})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Role *"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:y.map((s=>e.jsxs("button",{type:"button",onClick:()=>h((e=>({...e,role:s.value}))),className:"p-3 rounded-lg border text-left transition-all "+(x.role===s.value?"border-primary bg-primary/5":"border-border hover:border-primary/50"),disabled:p,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(s.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:s.label})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]},s.value)))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"institution",className:"text-sm font-medium",children:"Institution/Organization"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),e.jsx("input",{id:"institution",name:"institution",type:"text",value:x.institution,onChange:F,placeholder:"Avengers Academy",className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",disabled:p})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"password",className:"text-sm font-medium",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),e.jsx("input",{id:"password",name:"password",type:w?"text":"password",value:x.password,onChange:F,placeholder:"Create a strong password",className:"w-full pl-10 pr-12 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",disabled:p}),e.jsx("button",{type:"button",onClick:()=>C(!w),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",disabled:p,children:w?e.jsx(g,{className:"w-4 h-4"}):e.jsx(N,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"text-sm font-medium",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{className:"absolute left-3 top-3 w-4 h-4 text-muted-foreground"}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:k?"text":"password",value:x.confirmPassword,onChange:F,placeholder:"Confirm your password",className:"w-full pl-10 pr-12 py-2 border border-border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent",disabled:p}),e.jsx("button",{type:"button",onClick:()=>P(!k),className:"absolute right-3 top-3 text-muted-foreground hover:text-foreground",disabled:p,children:k?e.jsx(g,{className:"w-4 h-4"}):e.jsx(N,{className:"w-4 h-4"})})]})]})]}),S&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg",children:[e.jsx(j,{className:"w-4 h-4 text-red-500"}),e.jsx("span",{className:"text-sm text-red-700 dark:text-red-300",children:S})]}),e.jsx(c,{type:"submit",className:"w-full",disabled:p,children:p?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating Account..."]}):"Create Account"}),e.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["By creating an account, you agree to our"," ",e.jsx(a,{to:"/terms",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",e.jsx(a,{to:"/privacy",className:"text-primary hover:underline",children:"Privacy Policy"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",e.jsx(a,{to:"/login",className:"text-primary hover:underline font-medium",children:"Sign in here"})]})})]})]})}function C(){const a=r(),{isAuthenticated:n}=t();s.useEffect((()=>{n&&a("/dashboard")}),[n,a]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-cyan-50/30 to-emerald-50/30 dark:from-gray-950 dark:via-cyan-950/30 dark:to-emerald-950/30 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(59,130,246,0.03)_1px,transparent_1px),linear-gradient(90deg,rgba(59,130,246,0.03)_1px,transparent_1px)] bg-[size:4rem_4rem]"}),e.jsx("div",{className:"relative z-10 w-full max-w-md",children:e.jsx(w,{onSuccess:()=>{a("/dashboard")}})})]})}export{C as Register};
